#!name=Ë°•ÂÖÖÈÖçÁΩÆ
#!desc=Ë°•ÂÖÖÈÖçÁΩÆ
[General]
skip-proxy = %APPEND% iosapps.itunes.apple.com
#TestFlight

[Rule]
#Apple News Êú¨Âú∞Âåñ
DOMAIN,apple.comscoreresearch.com,Proxy
DOMAIN,gateway.icloud.com,,Proxy
DOMAIN,gspe1-ssl.ls.apple.com,Proxy
DOMAIN,news-assets.apple.com,Proxy
DOMAIN,news-client-search.apple.com,Proxy
DOMAIN,news-client.apple.com,Proxy
DOMAIN,news-edge.apple.com,Proxy
DOMAIN,news-events.apple.com,Proxy
DOMAIN-SUFFIX,apple.news,Proxy
DOMAIN,gspe1-ssl.ls.apple.com,PROXY
# Ô£øNews+ Audio
URL-REGEX,^https?:\/\/news-assets\.apple\.com\/(audio-narrative|podcast\/audio)\/.* ,PROXY
#Ëß£ÈîÅÂÖ®ÈÉ®Â§©Ê∞îÂäüËÉΩ
DOMAIN,weather-analytics-events.apple.com,REJECT

# > ÂæÆÂçöÂÖ∂ÂÆÉ
URL-REGEX,^https?:\/\/.+\/wbts\.png$,REJECT
URL-REGEX,^https?:\/\/.+\/licai\.png$,REJECT
URL-REGEX,^https?:\/\/.+\/3fc\.png$,REJECT
URL-REGEX,^https?:\/\/.+\/pull-flv-(.*)\.douyincdn\.com\/stage\/.+\.flv,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/upload\/.+\/NavigationBar_Video_Icon_Live_Normal\.png$,REJECT
URL-REGEX,^https?:\/\/.+\.sinaimg\.cn\/.+\/(.*)?(fish|redicon|redpacket)(.*)?\.(png|jpg|jpeg|gif)$,REJECT
URL-REGEX,^https?:\/\/.+\.sinaimg\.cn\/.+\/lipin_dongtu\.gif$,REJECT
# URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/upload\/1071\/1468\/.+\/.+\.gif$,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/m\/taskcenter,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/m\/taskcenter\/js\/vendor\.+\.js$,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/m\/taskcenter\/js\/app\.+\.js$,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/m\/taskcenter\/js\/0\.+\.js$,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/m\/taskcenter\/js\/index\.lazy\.+\.js$,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/m\/taskcenter\/js\/app\.+\.js$,REJECT
URL-REGEX,^https?:\/\/h5\.sinaimg\.cn\/m\/taskcenter\/js\/vendor\.+\.js$,REJECT
URL-REGEX,^https?:\/\/captcha\.weibo\.com\/static\/js\/jigsawLock\.min\.js$,REJECT
URL-REGEX,^https?:\/\/wx[0-9]\.sinaimg\.cn\/large\/.+\.gif$,REJECT
##!name=New Bing for other browsers
[Header Rewrite]
^https:\/\/www\.bing\.com\/(search|new) header-replace-regex User-Agent \w+\/[\d\.]+$ "AppleWebKit/537.36 Chrome/110.0 Safari/537.36 Edg/110.0"

[Map Local]
# > ÂæÆÂçö
^https?:\/\/h5\.sinaimg\.cn\/upload\/.+\/fhy_dongtu\.gif$ data="https://hub.nange.cn/Mock/Weibo/hy_dongtu.gif"
^https?:\/\/h5\.sinaimg\.cn\/upload\/.+\/bianjijiantou\.png$ data="https://hub.nange.cn/Mock/Weibo/jiantougaocheng.png"
^https?:\/\/h5\.sinaimg\.cn\/upload\/.+\/Vip\.png$ data="https://hub.nange.cn/Mock/Weibo/avatar_vip_golden.png"
^https?:\/\/h5\.sinaimg\.cn\/upload\/.+\/vip[0-9]_default\.png$ data="https://hub.nange.cn/Mock/Weibo/feed_icon_100vip_7_default.png"

# > ÂæÆÂçöËÆ¢Âçï
^https?:\/\/shop\.sc\.weibo\.com\/aj\/h5\/order\/menulist data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ÂæÆÂçöÁßØÂàÜÂºπÁ™ó
^https?:\/\/luck\.sc\.weibo\.com\/aj\/Action\/indexInfo$ data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ‰ºöÂëò‰∏≠ÂøÉÂºπÁ™ó
^https?:\/\/new\.vip\.weibo\.c(n|om)\/aj\/vipcenter\/popalert data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/new\.vip\.weibo\.c(n|om)\/aj\/vipcenter\/userdata data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ÂæÆÂçöÊé®Ëçê
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/unread_hot_timeline\?gsid= data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > Ëé∑ÂèñËÆæÂ§áÂûãÂè∑
^https?:\/\/m?api\.weibo\.c(n|om)\/device\/get data="https://hub.nange.cn/Mock/Weibo/getDevice.json"

# > ÂæÆÂçöÂèëÁé∞
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/search\/container_discover\?gsid= data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ÂæÆÂçöËØùÈ¢òÊåâÈíÆÁ∫¢ÁÇπ
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/!\/huati\/discovery_home_bottom_getdotinfo data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ÂæÆÂçöË∂ÖËØùÁúãÂ∏ñ
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/!\/huati\/discovery_home_bottom_channel_list data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/unread_topic_timeline data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_timeline_topic data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ÂæÆÂçöÁΩëÁªúÊ£ÄÊµã
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/carrier\/get\/info data="https://hub.nange.cn/Mock/Weibo/carrier.json"

# > ÂæÆÂçöËÆ¢Âçï
^https?:\/\/shop\.sc\.weibo\.com\/aj\/h5\/order\/prolist data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ÂæÆÂçöËßÜÈ¢ëÊé®Ëçê
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/video\/redpacket data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/video\/community_tab data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/!\/multimedia\/playback\/batch_get data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/!\/multimedia\/video\/comments\/get_comments_order_by_hot data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/video\/tiny_stream_channel_list data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/video\/tiny_stream_video_list data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"

# > ÂæÆÂçöÂÖ∂ÂÆÉ
^https?:\/\/letsgo\.e\.weibo\.com\/stracker\/fe\/report data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/!\/multimedia\/video\/red_package\/grow_follower\/active_uids data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/client\/tabbar data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/push\/daily data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/page\/get_fragment data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/push\/active data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m\.weibo\.cn\/c\/checkin data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/video\/machine data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/fastimage\.uve\.weibo\.com\/interface\/sdk\/getad\.php$ data="https://hub.nange.cn/Mock/Weibo/fastimage.json"
^https?:\/\/sdkapp\.uve\.weibo\.com\/interface\/sdk\/actionpro\.php data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/sdkclick\.uve\.weibo\.com\/interface\/sdk\/sdkclick\.php data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/sdkapp\.uve\.weibo\.com\/interface\/sdk\/sdkconfig\.php data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/hot\/repost_daily data="https://hub.nange.cn/Mock/Blank/Blank_Dict.json"
#TikTokËß£ÈîÅ
DOMAIN,p16-tiktokcdn-com.akamaized.net,Proxy
DOMAIN-SUFFIX,byteoversea.com,Proxy
DOMAIN-SUFFIX,ibytedtos.com,Proxy
DOMAIN-SUFFIX,ipstatp.com,Proxy
DOMAIN-SUFFIX,muscdn.com,Proxy
DOMAIN-SUFFIX,musical.ly,Proxy
DOMAIN-SUFFIX,tik-tokapi.com,Proxy
DOMAIN-SUFFIX,tiktok.com,Proxy
DOMAIN-SUFFIX,tiktokcdn.com,Proxy
DOMAIN-SUFFIX,tiktokv.com,Proxy
DOMAIN-KEYWORD,-tiktokcdn-com,Proxy

# YouTubeÂéªÂπøÂëä
DOMAIN-SUFFIX,ads.youtube.com,REJECT
DOMAIN-SUFFIX,azabu-u.ac.jp,REJECT
DOMAIN-SUFFIX,couchcoaster.jp,REJECT
DOMAIN-SUFFIX,delivery.dmkt-sp.jp,REJECT
DOMAIN-SUFFIX,ehg-youtube.hitbox.com,REJECT
DOMAIN-SUFFIX,m-78.jp,REJECT
DOMAIN-SUFFIX,nichibenren.or.jp,REJECT
DOMAIN-SUFFIX,nicorette.co.kr,REJECT
DOMAIN-SUFFIX,ssl-youtube.2cnt.net,REJECT
DOMAIN-SUFFIX,youtube.112.2o7.net,REJECT
DOMAIN-SUFFIX,youtube.2cnt.net,REJECT

[URL Rewrite]
# Redirect Apple Maps to US
(^https?:\/\/gspe\d*-ssl\.ls\.apple\.)(com|cn)(\/.*)(country_code=[A-Z]{2})(.*) $1$2$3country_code=US$5 header
(^https?:\/\/gspe\d*-ssl\.ls\.apple\.)(com|cn)(\/.*)(environment=[a-z/-]{4,})(.*) $1$2$3environment=prod$5 header

# YouTubeÂéªÂπøÂëä
# ======= ÈÄöÁî®ËØ∑Ê±Ç ======= #
^https?:\/\/.+\.googlevideo\.com\/.+&oad -Reject
^https?:\/\/.+\.googlevideo\.com\/.+ctier ,Reject
^https?:\/\/youtubei\.googleapis\.com\/youtubei\/.+ad_ -Reject
^https?:\/\/youtubei\.googleapis\.com\/youtubei\/.+log_ -Reject
^https?:\/\/.+\.youtube\.com\/get_midroll_ ,reject
^https?:\/\/premiumyva\.appspot\.com\/vmclickstoadvertisersite -Reject
^https?:\/\/.+\.youtube\.com\/api\/stats\/ads -Reject
^https?:\/\/.+\.youtube\.com\/api\/stats\/.+adformat -Reject
^https?:\/\/.+\.youtube\.com\/pagead\/ -Reject
^https?:\/\/.+\.youtube\.com\/ptracking -Reject
^https?:\/\/youtubei\.googleapis\.com\/youtubei\/v\d\/player\/ad_break -Reject
^https?:\/\/(www|s)\.youtube\.com\/api\/stats\/ads  -reject
^https?:\/\/(www|s)\.youtube\.com\/(pagead|ptracking) -Reject
^https?:\/\/s\.youtube\.com\/api\/stats\/qoe\?adcontext  -Reject

#TikTokËß£ÈîÅ
(?<=_region=)CN(?=&) JP 307
(?<=&mcc_mnc=)4 2 307
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302

# ======= ËßÜÈ¢ëÂπøÂëä ======= #
(^https?:\/\/[\w-]+\.googlevideo\.com\/(?!dclk_video_ads).+?)&ctier=L(&.+?),ctier,(.+)  302 $1$2$3
^https?:\/\/[\w-]+\.googlevideo\.com\/(?!(dclk_video_ads|videoplayback\?)).+&oad -Reject

[Script]
#Ëß£ÈîÅÂ§©Ê∞î
Weather Availability Request= type=http-request, pattern=^https?:\/\/weather-data\.apple\.com\/(v1|v2|v3)\/availability\/.*, requires-body=0, script-path=https://hub.nange.cn/Script/Apple/Weather_Availability_Req.js, argument=
Weather Availability Response = type=http-response, pattern=^https?:\/\/weather-data\.apple\.com\/(v1|v2|v3)\/availability\/.*, requires-body=1, script-path=https://hub.nange.cn/Script/Apple/Weather_Availability_Resp.js, argument=
Weather Response type=http-response, pattern=^https?:\/\/weather-data\.apple\.com\/(v1|v2|v3)\/weather\/.*, requires-body=1, timeout=20, script-path=https://hub.nange.cn/Script/Apple/Weather.js, argument=
Weather Map Request= type=http-request, pattern=^https?:\/\/weather-map2?\.apple\.com\/(v1|v2)\/mapOverlay\/\w+(\?.*country=CN.*)?$, requires-body=0, script-path=https://hub.nange.cn/Script/Apple/Weather_Map.js, argument=

# Bag (iOS/macOS)

Siri Suggestions Service = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/bag(\?.*)?$, requires-body=0, timeout=5, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Siri Suggestions Service = type=http-response, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/bag(\?.*)?$, requires-body=1, timeout=10, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.response.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Spotlight & Look Up Search (iOS/macOS)
Spotlight & Look Up Search = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/search(\?.*)?$, requires-body=0, timeout=5, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Spotlight & Look Up Search = type=http-response, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/search(\?.*)?$, requires-body=1, timeout=10, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.response.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Siri Infomation Card (macOS)
Siri Infomation Card = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/card(\?.*)?$, requires-body=0, timeout=5, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Siri Infomation Card = type=http-response, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/card(\?.*)?$, requires-body=1, timeout=10, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.response.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true

# Rewrite Location Services Defaults Configuration
Location Services Defaults Configuration = type=http-request, pattern=^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults(\?.*)?$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Location Services Defaults Configuration = type=http-response, pattern=^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults(\?.*)?$, requires-body=1, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.response.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Rewrite Location Services PEP Geo Country Code
Location Services PEP Geo Country Code = type=http-response, pattern=^https?:\/\/gspe1-ssl\.ls\.apple\.com\/pep\/gcc, requires-body=1, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.response.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Redirect Location Services Announcements Configuration
Location Services Announcements Configuration = type=http-request, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements(\?.*)?$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Redirect Location Services Dynamic Configuration
Location Services Dynamic Configuration = type=http-request, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config(\?.*)?$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Redirect Dispatcher Services
Dispatcher Services = type=http-request, pattern=^https?:\/\/gsp-ssl\.ls\.apple\.com\/dispatcher\.arpc$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Dispatcher Services = type=http-request, pattern=^https?:\/\/dispatcher\.is\.autonavi\.com\/dispatcher$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Redirect Directions Services
Directions Services = type=http-request, pattern=^https?:\/\/gsp-ssl\.ls\.apple\.com\/directions\.arpc$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Directions Services = type=http-request, pattern=^https?:\/\/direction2\.is\.autonavi\.com\/direction$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Redirect Traffic Services
Traffic Services = type=http-request, pattern=^https?:\/\/gspe12-ssl\.ls\.apple\.com\/traffic(\?.*)?$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Traffic Services = type=http-request, pattern=^https?:\/\/gspe12-cn-ssl\.ls\.apple\.com\/traffic(\?.*)?$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
# Redirect Tiles Services
Tiles Services = type=http-request, pattern=^https?:\/\/gspe19-ssl\.ls\.apple\.com\/tile\.vf(\?.*)?$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true
Tiles Services = type=http-request, pattern=^https?:\/\/gspe19-cn-ssl\.ls\.apple\.com\/tiles(\?.*)?$, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Location.request.js, argument=üÜïV2Áâà: Switch=true&PEP.GCC=US&Geo_manifest.Dynamic.Config.Country_code.watchOS=US&Config.Defaults.LagunaBeach=true&Config.Defaults.GEOAddressCorrection=true&Config.Defaults.LookupMaxParametersCount=true&Config.Defaults.LocalitiesAndLandmarks=true&Config.Defaults.PedestrianAR=true&Config.Defaults.6694982d2b14e95815e44e970235e230=true&Config.Defaults.OpticalHeading=true&Config.Defaults.UseCLPedestrianMapMatchedLocations=true

######################
TV Request = type=http-request, pattern=^https?:\/\/uts-api\.itunes\.apple\.com\/uts\/(v1|v2|v3)\/.*, requires-body=1, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/TV.request.js
TV Response = type=http-response, pattern=^https?:\/\/uts-api\.itunes\.apple\.com\/uts\/(v1|v2|v3)\/.*, requires-body=1, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/TV.response.js

TestFlight = type=http-request, pattern=^https?:\/\/testflight\.apple\.com\/(.+)(\?.*)?$, requires-body=1, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/TestFlight.request.js, argument=
TestFlight = type=http-response, pattern=^https?:\/\/testflight\.apple\.com\/(.+)(\?.*)?$, requires-body=1, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/TestFlight.response.js, argument=


# youtubeÂéªÈô§È¶ñÈ†ÅÂèäÊí≠ÊîæÈ†ÅÊé®Ëñ¶ÂàóË°®Âª£Âëä 
youtube-proto = type=http-response,pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next)\?,requires-body=1,binary-body-mode=1,max-size=2097152,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/youtube.js
# youtubeÂéªÈô§Êí≠ÊîæÂô®Ë≤ºÁâáÂª£Âëä 
#TikTokËß£ÈîÅ
TikTokËß£ÈîÅ= type=http-response,script-path=https://raw.githubusercontent.com/jinchenwuheikeji/Quantumult_X/master/tiktok.js, pattern=https?:\/\/.*\.tiktokv\.com\/aweme\/v\d\/(feed|mix\/aweme|aweme\/post|(multi\/)?aweme\/detail|follow\/feed|nearby\/feed|search\/item|general\/search\/single|hot\/search\/video\/list|aweme\/favorite) ,requires-body=1,max-size=0,timeout=10,enable=true

[MITM]
hostname = %APPEND%  *.bing.com, *.uve.weibo.com, *api.weibo.cn, *api.weibo.com, h5.sinaimg.cn, new.vip.weibo.cn, *.sc.weibo.com, captcha.weibo.com, wx*.sinaimg.cn, js.t.sinajs.cn, *.e.weibo.com, news-client.apple.com, news-client-search.apple.com, news-edge.apple.com, news-events.apple.com, news-assets.apple.com testflight.apple.com, api*.smoot.apple.com, api*.smoot.apple.cn, weather-edge.apple.com, weather-data.apple.com, weather-data-origin.apple.com, weather-map.apple.com, weather-map2.apple.com, uts-api.itunes.apple.com, configuration.ls.apple.com, gspe1-ssl.ls.apple.com, gspe12-ssl.ls.apple.com, gspe12-cn-ssl.ls.apple.com, gspe19-ssl.ls.apple.com, gspe19-cn-ssl.ls.apple.com, gspe35-ssl.ls.apple.com, gsp-ssl.ls.apple.com, direction2.is.autonavi.com, dispatcher.is.autonavi.com, rap.is.autonavi.com, -redirector*.googlevideo.com,  *.googlevideo.com,www.youtube.com,s.youtube.com,youtubei.googleapis.com,*.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com, *snssdk.com, *amemv.com
